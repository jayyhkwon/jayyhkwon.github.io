---
layout: post
title:  "브라우저의 역활"
category: Network
tags: [Network]
comments: true
---



> **브라우저**

- 웹 서버(HTTP), FTP, MTP,SMTP 등등을 액세스하는 복합적인 클라이언트 소프트웨어



```markdown
// HTTP 프로토콜
http://user(사용자명,생략가능):password(패스워드,생략가능)@www.cyber.co.kr(도메인):80(포트,생략가능)/dir/file1.htm(파일경로명,디렉토리/파일명)



// FTP 프로토콜
ftp://user(사용자명,생략가능):password(패스워드,생략가능)@ftp.cyber.co.kr(도메인):21(포트,생략가능)/dir/file1.htm(파일경로명,디렉토리/파일명)


// 파일명이 생략된 경우
http://www.lab.cyber.co.kr/dir/ -> dir 폴더의 기본 페이지로 이동 (ex. index.html)

http://www.lab.cyber.co.kr -> 루트 디렉토리의 기본 페이지로 이동

http://www.lab.cyber.co.kr/whatisthis -> 파일 먼저 찾고 없으면, 디렉토리로 찾는다.
...
```



> **브라우저가 하는 일(웹 서버 기준)**

- 1. URL을 해석하여 HTTP 리퀘스트 메시지를 작성한다.

     - 리퀘스트 메시지는 Header + URI + 메서드로 이루어져 있다. 

     - 리퀘스트 메시지의 첫 번째 행을 리퀘스트 라인이라 한다.

       ```markdown
       // 리퀘스트 라인
       GET(메서드) /cgi/sample.cgi?Field1=abc&SendButton=SEND(URI) HTTP/1.1(HTTP 버전)
       																					
       ```

  

  2. DNS 서버에 도메인의 IP주소를 알아내기 위한 리퀘스트 메시지를 작성한다.<br>
      (name resolution, 이름 확인)
     
     - DNS 클라이언트에 해당하는 것을 DNS 리졸버라 부른다
     - 리졸버는 <a href="https://simsimjae.tistory.com/48">소켓 라이브러리</a>에 존재한다.
     
  3. 리졸버는 메시지 송신을 위해 OS의 프로토콜 스택을 호출한다.

  4. LAN 어댑터를 통해 메시지가 DNS 서버로 송신된다.

  5. 응답이 프로토콜 스택을 경유하여 리졸버에 건네지고, 리졸버는 브라우저에게 IP주소를 건네준다.

      
  
6. 리졸버를 통해 얻은 IP 주소와 HTTP 리퀘스트 메시지를 OS의 프로토콜 스택에 건네준다.
  
7. 5와 같은 과정이 일어난다.
  
8. 웹 서버에서 돌아온 응답을 화면에 표시한다
  
     - 응답 내용에 추가 리퀘스트가 필요한 내용이 존재하면(사진,동영상 등등) 그 부분을 비워놓고 
     순차적으로 다시 리퀘스트 한다.
  
       (리퀘스트 시 URI는 하나만 존재하므로 한 번에 여러 요청을 할 수 없다)



> **라우터**

- **라우터**(router[[a\]](https://ko.wikipedia.org/wiki/라우터#cite_note-2) 혹은 [라우팅](https://ko.wikipedia.org/wiki/라우팅) 기능을 갖는 **[공유기](https://ko.wikipedia.org/wiki/공유기)**는 [패킷](https://ko.wikipedia.org/wiki/패킷)의 위치를 추출하여, 그 위치에 대한 최적의 경로를 지정하며, 이 경로를 따라 데이터 패킷을 다음 장치로 전향시키는 장치이다.
  간단히 말해 서로 다른 네트워크 간에 중계 역할을 해준다.



> **IP 주소**

- 네트워크 번호 + 호스트 번호
  - 네트워크 번호 : 서브넷 주소
  - 호스트 번호 : 서브넷에 존재하는 각각의 컴퓨터 주소

- IP 주소는 32비트의 디지털 데이터로 8비트씩 점으로 구분하여 10진수로 표기

  - 10.11.12.13

- 어느 것이 네트워크 번호인지, 호스트 번호인지 알 수 없으므로 넷마스크를 통해 구분한다

  - 10.11.12.13/255.255.255.0

  - 넷마스크가 1인 부분은 네트워크 번호를 나타내고, 0인 부분은 호스트 번호를 나타낸다

    255 -> 11111111 (네트워크 번호)

    0 -> 00000000 (호스트 번호)

  - 10.11.12.13/255.255.255.0 = 10.11.12.13/24 (네트워크 번호의 비트 수로 넷마스크를 표기할 수 있다)

  - 호스트 번호 부분의 비트 값이 모두 0 or 1인 경우는 특별한 의미를 가진다.

    - 0 : 서브넷 자체
    - 1 : 서브넷에 있는 기기 전체에 패킷을 보내는 브로드캐스트



> **도메인명과 IP 주소를 구분하여 사용하는 이유**

- IP 주소는 기억하기 어렵다

- IP 주소 대신 도메인을 통신하면 IP주소(32비트) 대비 비효율적이다.




ref <a href="https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=163484025">성공과 실패를 결정하는 1% 네트워크 원리</a>

